<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhavi Kenia - Data Visualizations</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/d3-svg-annotation@2.5.1/d3-annotation.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #06285e;
            --secondary-color: #7dd3fa;
            --text-color: #333;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-align: center;
            padding: 2rem 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
        }

        main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .assignment {
            background-color: var(--card-background);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .assignment:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        h2 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
        }

        ul {
            list-style-type: none;
        }

        li {
            margin-bottom: 0.75rem;
        }

        a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--primary-color);
            text-decoration: underline;
        }

        img {
            width: 100%;
            border-radius: 6px;
            margin-top: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        img:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <header>
        <h1>Bhavi Kenia - Data Visualizations</h1>
    </header>
    <main>
        <div class="assignment">
            <h2>Assignment 2</h2>
            <ul>
                <li><a href="https://vizhub.com/bhavikenia/5f72085f9f0d4a969a4ff2788f2765e9">A2-Bar Graph</a></li>
                <li><a href="https://vizhub.com/bhavikenia/f50f3cb95b8043ac9104f4ea0b1df680">A2-Dot Plot</a></li>
                <li><a href="https://vizhub.com/bhavikenia/7a73248ec1764bb087618d06deeea0d4">A2-Heat Map</a></li>
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 3</h2>
            <ul>
                <li><a href="https://vizhub.com/bhavikenia/826017137133425c9b10116d3a0175b6">A3-Histogram</a></li>
                <img src="Seaborn/histogram.png" alt="Histogram Seaborn">
                <li><a href="https://vizhub.com/bhavikenia/b4971701e369489d92388571649ed310">A3-Box Plot</a></li>
                <img src="Seaborn/boxplot.png" alt="Box Plot Seaborn">
                <li><a href="https://vizhub.com/bhavikenia/cdb2f31106c240638b0bfa066ad2223c">A3-Strip Plot</a></li>
                <img src="Seaborn/stripplot.png" alt="Strip Plot Seaborn">
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 4</h2>
            <ul>
                <li><a href="https://diamond-sheer-quicksand.glitch.me">A4-Bar Chart in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/diamond-sheer-quicksand">A4-Code for Bar Chart in D3</a></li>
                <li><a href="https://tasteful-scintillating-perigee.glitch.me">A4-Scatter Plot in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/tasteful-scintillating-perigee">A4-Code for Scatter Plot in D3</a></li>
                <li><a href="https://agate-changeable-crocus.glitch.me">A4-Heat Map in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/agate-changeable-crocus">A4-Code for Heat Map in D3</a></li>
                <li><a href="https://plausible-warm-polonium.glitch.me">A4-Histogram in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/plausible-warm-polonium">A4-Code for Histogram in D3</a></li>
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 5</h2>
            <ul>
                <li><a href="https://mesquite-righteous-harbor.glitch.me">A5-Bubble Chart in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/mesquite-righteous-harbor">A5-Code for Bubble Chart in D3</a></li>
                <li><a href="https://trail-resisted-principle.glitch.me">A5-Line Chart in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/trail-resisted-principle">A5-Code for Line Chart in D3</a></li>
                <li><a href="https://twisty-misty-mask.glitch.me">A5-Scatterplot Matrix in D3</a></li>
                <li><a href="https://glitch.com/edit/#!/twisty-misty-mask">A5-Code for Scatterplot Matrix in D3</a></li>
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 6</h2>
            <ul>
                <li><a href="https://vizhub.com/bhavikenia/760fba1fa7b8452a86a41dabe8153176">A6-Bar Chart in D3 with Sequential Color Scale</a></li>
                <li><a href="https://vizhub.com/bhavikenia/bb8681ac3b16490180cb4314f3490c30">A6-Bar Chart in D3 with Diverging Color Scale</a></li>
                <li><a href="https://vizhub.com/bhavikenia/0629d87b4bd047288f2d4f53e3073475">A6-Scatter Plot in D3 with Qualitative Color Scale</a></li>
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 7</h2>
            <ul>
                <li><a href="https://vizhub.com/bhavikenia/3b52fda2c4034caab3c481ee94e651be">A7-Multi-Line Chart in D3</a></li>
                <li><a href="https://vizhub.com/bhavikenia/96061d64653e423c903ee21c7012fa0a">A7-Heat Map in D3</a></li>
                <li><a href="https://vizhub.com/bhavikenia/ea435479cad44be9a14ac30eee5d52fc">A7-Small Multiples Chart in D3</a></li>
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 8</h2>
            <ul>
                <li><a href="https://vizhub.com/bhavikenia/27203b753e3641f4aba10473a614d7a5">A8-Force-Directed Graph in D3</a></li>
                <li><a href="https://vizhub.com/bhavikenia/fb9a043dbcf24497be7e6c43c6befd89">A8-Adjacency Matrix in D3</a></li>
                <li><a href="https://vizhub.com/bhavikenia/e287771eb46e45bb97d663f8dafe7680">A8-Edge Bundling in D3</a></li>
            </ul>
        </div>
        <div class="assignment">
            <h2>Assignment 9</h2>
            <ul>
                <li><a href="https://vizhub.com/bhavikenia/15ca91302a7b45db8f35addf11f37e09">A9-US Choropleth Map in D3</a></li>
                <li><a href="https://vizhub.com/bhavikenia/f5de971660744b88a2254bad3d212da4">A9-Proportional Symbols Map in D3</a></li>
                <li><a href="https://vizhub.com/bhavikenia/e7242ba667d949c1a7d9c5d93b9d5031">A9-World Choropleth Map in D3</a></li>
            </ul>
        </div>
        <div class="different">
            <h2>Assignment 10</h2>
            <!-- Chart Title for Misleading Crime Index -->
            <div class="chart-title"><strong>Misleading Crime Index Chart (Black Hat)</strong></div>
            <svg class="misleading" width="900" height="500"></svg>
            <!-- Explanation of why the misleading chart is misleading -->
            <p><strong>Why it's misleading:</strong> The y-axis does not start at zero, which exaggerates the small differences in the crime index. Also, the bars are sorted in descending order, making the differences look more extreme than they are. Alternating colors are used, which can imply that groupings or categories that exist.</p>
 
            <!-- Chart Title for Accurate Crime Index -->
            <div class="chart-title"><strong>Accurate Crime Index Chart (White Hat)</strong></div>
            <svg class="accurate" width="900" height="500"></svg>
            <!-- Explanation of why the accurate chart is better -->
            <p><strong>Why it's better:</strong> This chart starts the y-axis at zero and maintains consistent scaling, giving a truthful visual impression of the data. It also preserves the original order of countries.</p>
            <p><strong>Data Source:</strong> The crime rate data is sourced from <a href="https://worldpopulationreview.com/country-rankings/crime-rate-by-country" target="_blank">World Population Review</a>.</p>

            <script>
                // Loads the CSV data using D3.js
                d3.csv("https://gist.githubusercontent.com/bhavikenia/2ed237f0436aff9fb1592d0b43b7d850/raw/c76284bd60d8d5490ef4235e685b34f310b56d3b/crime.csv").then(function(data) {
                    data.forEach(function(d) {
                        // Convert string values to numbers for crimeindex and safetyindex
                        d.crimeindex = +d.crimeindex;
                        d.safetyindex = +d.safetyindex;
                    });

                    // Creates a copy of the data and sort it by crime index for the misleading chart
                    // Searched how to do this part online
                    var misleadingData = data.slice().sort(function(a, b) {
                        return b.crimeindex - a.crimeindex;
                    });

                    // Draws both misleading and accurate charts
                    drawChart(misleadingData, "svg.misleading", false);
                    drawChart(data, "svg.accurate", true);

                    // Function to draw the chart
                    function drawChart(data, selector, accurate) {
                        // Selects the SVG element where the chart will be drawn
                        var svg = d3.select(selector);
                        // Sets margins and chart size
                        var margin = { 
                            top: 20, 
                            right: 20, 
                            bottom: 160, 
                            left: 90 
                        };
                        var width = +svg.attr("width") - margin.left - margin.right;
                        var height = +svg.attr("height") - margin.top - margin.bottom;

                        var g = svg.append("g")
                            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

                        // Creates a scale for the x-axis which are the country names
                        var x = d3.scaleBand()
                            .domain(data.map(function(d) { 
                                return d.country; 
                            }))
                            .range([0, width])
                            .padding(0.2);
                        // Creates a scale for the y-axis which is the crime index
                        // Looked online on how to do this part
                        var y = d3.scaleLinear()
                            .domain([
                            accurate ? 0 : d3.min(data, function(d) { 
                                return d.crimeindex; 
                            }) - 5,
                            d3.max(data, function(d) { 
                                return d.crimeindex; 
                            })
                            ])
                            .range([height, 0]);

                        // Draws the x-axis at the bottom of the chart
                        g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x))
                        .selectAll("text")
                            .attr("transform", "rotate(-45)")
                            .style("text-anchor", "end");
                        
                        // Draws the y-axis
                        g.append("g")
                        .call(d3.axisLeft(y));

                        // Draws the bars for the chart
                        // Looked online on how to do this part
                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                            .attr("class", "bar")
                            .attr("x", function(d) { 
                                return x(d.country); 
                            })
                            .attr("y", function(d) { 
                                return y(d.crimeindex); 
                            })
                            // Sets the bar width based on x-scale
                            .attr("width", x.bandwidth())
                            .attr("height", function(d) { 
                                return height - y(d.crimeindex); 
                            })
                            .attr("fill", function(d, i) {
                            // Sets different colors for the misleading and accurate charts
                            // Looked online on how to do this part
                            if (selector.indexOf("misleading") !== -1) {
                                // Alternating colors for misleading chart
                                return (i % 2 === 0) ? "yellow" : "lightgreen";
                            } else {
                                // Color for the accurate chart
                                return "pink";
                            }
                        });

                        // If it's the accurate chart then add an annotation for the USA
                        // Looked on the website that Professor gave us
                        if (accurate) {
                            var usa = data.find(function(d) {
                                // Finds the United States data
                                return d.country.indexOf("United States") !== -1;
                            });

                            if (usa) {
                                // Gets the x position for USA
                                var xPos = x(usa.country) + x.bandwidth() / 2;
                                // Gets the y position for the crime index of the USA
                                var yPos = y(usa.crimeindex);

                                // Defines the annotation details
                                var annotations = [{
                                    note: {
                                    label: "USA has a mid-level crime index.",
                                    title: "USA (Crime Index: " + usa.crimeindex + ")"
                                    },
                                    x: xPos,
                                    y: yPos,
                                    dx: -30,
                                    dy: -50
                                }];

                                // Creates the annotation group and append it to the chart
                                var makeAnnotations = d3.annotation()
                                    .annotations(annotations);

                                g.append("g")
                                .attr("class", "annotation-group")
                                .call(makeAnnotations);
                            }
                        }
                    }
                });
            </script>
        </div>
    </main>
</body>
</html>
